<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" th:src="@{/js/jquery-1.8.3.min.js}"></script>
    <style type="text/css">
        #box{
            width:30%;
            margin: 0px auto;
        }
    </style>
    <script type="text/javascript">

    </script>
</head>
<body>
    <div id="box">
        <form method="post">
            <p>评论内容: <textarea name="content" rows="10" cols="50"></textarea></p>
            <p>评论人: <input type="text"name="author"/></p>
            <input type="button" value="提交"/>
        </form>
    </div>



<script type="text/javascript">
    $(function () {
        $("[type=button]").click(function () {
            var content=$("[name='content']").val();
            var author=$("[name='author']").val();
            if(content==''){
                alert('评论内容不能为空');
                return;
            }
            if(author==''){
                alert('评论人不能为空');
                return;
            }
            $.ajax({
                url:"/addComment",
                type:"post",
                data: {"content": content,"author":author,"id":[[${nid}]]},
                success: function (data) {
                    location.href="/goHome";
                }
            });

        });
    });
function addSubmit() {

}
</script>
</body>
</html>